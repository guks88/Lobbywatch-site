!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vega-util")):"function"==typeof define&&define.amd?define(["exports","vega-util"],t):t(e.vega=e.vega||{},e.vega)}(this,function(e,t){"use strict";function r(e){this.type=e}function n(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case"CallExpression":var t=e.arguments.slice();return t.unshift(e.callee),t;case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];case"Identifier":case"Literal":case"RawCode":default:return[]}}function a(e,t){if(!e)throw new Error("ASSERT: "+t)}function o(e){return e>=48&&e<=57}function i(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function s(e){return"01234567".indexOf(e)>=0}function u(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function c(e){return 10===e||13===e||8232===e||8233===e}function l(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&ze.test(String.fromCharCode(e))}function f(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&He.test(String.fromCharCode(e))}function p(){for(var e;le<fe&&(e=ce.charCodeAt(le),u(e)||c(e));)++le}function d(e){var t,r,n,a=0;for(r="u"===e?4:2,t=0;t<r;++t)le<fe&&i(ce[le])?(n=ce[le++],a=16*a+"0123456789abcdef".indexOf(n.toLowerCase())):G({},Ie,Qe);return String.fromCharCode(a)}function h(){var e,t,r,n;for(e=ce[le],t=0,"}"===e&&G({},Ie,Qe);le<fe&&(e=ce[le++],i(e));)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&G({},Ie,Qe),t<=65535?String.fromCharCode(t):(r=(t-65536>>10)+55296,n=(t-65536&1023)+56320,String.fromCharCode(r,n))}function v(){var e,t;for(e=ce.charCodeAt(le++),t=String.fromCharCode(e),92===e&&(117!==ce.charCodeAt(le)&&G({},Ie,Qe),++le,e=d("u"),e&&"\\"!==e&&l(e.charCodeAt(0))||G({},Ie,Qe),t=e);le<fe&&(e=ce.charCodeAt(le),f(e));)++le,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==ce.charCodeAt(le)&&G({},Ie,Qe),++le,e=d("u"),e&&"\\"!==e&&f(e.charCodeAt(0))||G({},Ie,Qe),t+=e);return t}function g(){var e,t;for(e=le++;le<fe;){if(t=ce.charCodeAt(le),92===t)return le=e,v();if(!f(t))break;++le}return ce.slice(e,le)}function y(){var e,t,r;return e=le,t=92===ce.charCodeAt(le)?v():g(),r=1===t.length?ve:Ye.hasOwnProperty(t)?ge:"null"===t?ye:"true"===t||"false"===t?de:ve,{type:r,value:t,start:e,end:le}}function m(){var e,t,r,n,a=le,o=ce.charCodeAt(le),i=ce[le];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++le,{type:xe,value:String.fromCharCode(o),start:a,end:le};default:if(e=ce.charCodeAt(le+1),61===e)switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return le+=2,{type:xe,value:String.fromCharCode(o)+String.fromCharCode(e),start:a,end:le};case 33:case 61:return le+=2,61===ce.charCodeAt(le)&&++le,{type:xe,value:ce.slice(a,le),start:a,end:le}}}return n=ce.substr(le,4),">>>="===n?(le+=4,{type:xe,value:n,start:a,end:le}):(r=n.substr(0,3),">>>"===r||"<<="===r||">>="===r?(le+=3,{type:xe,value:r,start:a,end:le}):(t=r.substr(0,2),i===t[1]&&"+-<>&|".indexOf(i)>=0||"=>"===t?(le+=2,{type:xe,value:t,start:a,end:le}):"<>=!+-*%&|^/".indexOf(i)>=0?(++le,{type:xe,value:i,start:a,end:le}):void G({},Ie,Qe)))}function x(e){for(var t="";le<fe&&i(ce[le]);)t+=ce[le++];return 0===t.length&&G({},Ie,Qe),l(ce.charCodeAt(le))&&G({},Ie,Qe),{type:me,value:parseInt("0x"+t,16),start:e,end:le}}function C(e){for(var t="0"+ce[le++];le<fe&&s(ce[le]);)t+=ce[le++];return(l(ce.charCodeAt(le))||o(ce.charCodeAt(le)))&&G({},Ie,Qe),{type:me,value:parseInt(t,8),octal:!0,start:e,end:le}}function w(){var e,t,r;if(r=ce[le],a(o(r.charCodeAt(0))||"."===r,"Numeric literal must start with a decimal digit or a decimal point"),t=le,e="","."!==r){if(e=ce[le++],r=ce[le],"0"===e){if("x"===r||"X"===r)return++le,x(t);if(s(r))return C(t);r&&o(r.charCodeAt(0))&&G({},Ie,Qe)}for(;o(ce.charCodeAt(le));)e+=ce[le++];r=ce[le]}if("."===r){for(e+=ce[le++];o(ce.charCodeAt(le));)e+=ce[le++];r=ce[le]}if("e"===r||"E"===r)if(e+=ce[le++],r=ce[le],"+"!==r&&"-"!==r||(e+=ce[le++]),o(ce.charCodeAt(le)))for(;o(ce.charCodeAt(le));)e+=ce[le++];else G({},Ie,Qe);return l(ce.charCodeAt(le))&&G({},Ie,Qe),{type:me,value:parseFloat(e),start:t,end:le}}function b(){var e,t,r,n,o="",i=!1;for(e=ce[le],a("'"===e||'"'===e,"String literal must starts with a quote"),t=le,++le;le<fe;){if(r=ce[le++],r===e){e="";break}if("\\"===r)if(r=ce[le++],r&&c(r.charCodeAt(0)))"\r"===r&&"\n"===ce[le]&&++le;else switch(r){case"u":case"x":"{"===ce[le]?(++le,o+=h()):o+=d(r);break;case"n":o+="\n";break;case"r":o+="\r";break;case"t":o+="\t";break;case"b":o+="\b";break;case"f":o+="\f";break;case"v":o+="\v";break;default:s(r)?(n="01234567".indexOf(r),0!==n&&(i=!0),le<fe&&s(ce[le])&&(i=!0,n=8*n+"01234567".indexOf(ce[le++]),"0123".indexOf(r)>=0&&le<fe&&s(ce[le])&&(n=8*n+"01234567".indexOf(ce[le++]))),o+=String.fromCharCode(n)):o+=r}else{if(c(r.charCodeAt(0)))break;o+=r}}return""!==e&&G({},Ie,Qe),{type:Ce,value:o,octal:i,start:t,end:le}}function E(e,t){var r=e;t.indexOf("u")>=0&&(r=r.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(e,t){return parseInt(t,16)<=1114111?"x":void G({},Re)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(r)}catch(e){G({},Re)}try{return new RegExp(e,t)}catch(e){return null}}function M(){var e,t,r,n,o;for(e=ce[le],a("/"===e,"Regular expression literal must start with a slash"),t=ce[le++],r=!1,n=!1;le<fe;)if(e=ce[le++],t+=e,"\\"===e)e=ce[le++],c(e.charCodeAt(0))&&G({},qe),t+=e;else if(c(e.charCodeAt(0)))G({},qe);else if(r)"]"===e&&(r=!1);else{if("/"===e){n=!0;break}"["===e&&(r=!0)}return n||G({},qe),o=t.substr(1,t.length-2),{value:o,literal:t}}function A(){var e,t,r;for(t="",r="";le<fe&&(e=ce[le],f(e.charCodeAt(0)));)++le,"\\"===e&&le<fe?G({},Ie,Qe):(r+=e,t+=e);return r.search(/[^gimuy]/g)>=0&&G({},Re,r),{value:r,literal:t}}function k(){var e,t,r,n;return pe=null,p(),e=le,t=M(),r=A(),n=E(t.value,r.value),{literal:t.literal+r.literal,value:n,regex:{pattern:t.value,flags:r.value},start:e,end:le}}function O(e){return e.type===ve||e.type===ge||e.type===de||e.type===ye}function S(){var e;return p(),le>=fe?{type:he,start:le,end:le}:(e=ce.charCodeAt(le),l(e)?y():40===e||41===e||59===e?m():39===e||34===e?b():46===e?o(ce.charCodeAt(le+1))?w():m():o(e)?w():m())}function U(){var e;return e=pe,le=e.end,pe=S(),le=e.end,e}function L(){var e;e=le,pe=S(),le=e}function T(e){var t=new r(we);return t.elements=e,t}function I(e,t,n){var a=new r("||"===e||"&&"===e?Oe:be);return a.operator=e,a.left=t,a.right=n,a}function j(e,t){var n=new r(Ee);return n.callee=e,n.arguments=t,n}function F(e,t,n){var a=new r(Me);return a.test=e,a.consequent=t,a.alternate=n,a}function D(e){var t=new r(Ae);return t.name=e,t}function N(e){var t=new r(ke);return t.value=e.value,t.raw=ce.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function P(e,t,n){var a=new r(Se);return a.computed="["===e,a.object=t,a.property=n,a.computed||(n.member=!0),a}function R(e){var t=new r(Ue);return t.properties=e,t}function q(e,t,n){var a=new r(Le);return a.key=t,a.value=n,a.kind=e,a}function B(e,t){var n=new r(Te);return n.operator=e,n.argument=t,n.prefix=!0,n}function G(e,t){var r,n=Array.prototype.slice.call(arguments,2),o=t.replace(/%(\d)/g,function(e,t){return a(t<n.length,"Message reference must be in range"),n[t]});throw r=new Error(o),r.index=le,r.description=o,r}function Q(e){e.type===he&&G(e,Pe),e.type===me&&G(e,je),e.type===Ce&&G(e,Fe),e.type===ve&&G(e,De),e.type===ge&&G(e,Ne),G(e,Ie,e.value)}function _(e){var t=U();t.type===xe&&t.value===e||Q(t)}function z(e){return pe.type===xe&&pe.value===e}function H(e){return pe.type===ge&&pe.value===e}function Y(){var e=[];for(le=pe.start,_("[");!z("]");)z(",")?(U(),e.push(null)):(e.push(se()),z("]")||_(","));return U(),T(e)}function X(){var e;return le=pe.start,e=U(),e.type===Ce||e.type===me?(e.octal&&G(e,Be),N(e)):D(e.value)}function $(){var e,t,r,n;return le=pe.start,e=pe,e.type===ve?(r=X(),_(":"),n=se(),q("init",r,n)):e.type!==he&&e.type!==xe?(t=X(),_(":"),n=se(),q("init",t,n)):void Q(e)}function J(){var e,t,r,n=[],a={},o=String;for(le=pe.start,_("{");!z("}");)e=$(),t=e.key.type===Ae?e.key.name:o(e.key.value),r="$"+t,Object.prototype.hasOwnProperty.call(a,r)?G({},Ge):a[r]=!0,n.push(e),z("}")||_(",");return _("}"),R(n)}function K(){var e;return _("("),e=ue(),_(")"),e}function V(){var e,t,r;if(z("("))return K();if(z("["))return Y();if(z("{"))return J();if(e=pe.type,le=pe.start,e===ve||Xe[pe.value])r=D(U().value);else if(e===Ce||e===me)pe.octal&&G(pe,Be),r=N(U());else{if(e===ge)throw new Error(_e);e===de?(t=U(),t.value="true"===t.value,r=N(t)):e===ye?(t=U(),t.value=null,r=N(t)):z("/")||z("/=")?(r=N(k()),L()):Q(U())}return r}function W(){var e=[];if(_("("),!z(")"))for(;le<fe&&(e.push(se()),!z(")"));)_(",");return _(")"),e}function Z(){var e;return le=pe.start,e=U(),O(e)||Q(e),D(e.value)}function ee(){return _("."),Z()}function te(){var e;return _("["),e=ue(),_("]"),e}function re(){var e,t,r;for(e=V();;)if(z("."))r=ee(),e=P(".",e,r);else if(z("("))t=W(),e=j(e,t);else{if(!z("["))break;r=te(),e=P("[",e,r)}return e}function ne(){var e=re();if(pe.type===xe&&(z("++")||z("--")))throw new Error(_e);return e}function ae(){var e,t;if(pe.type!==xe&&pe.type!==ge)t=ne();else{if(z("++")||z("--"))throw new Error(_e);if(z("+")||z("-")||z("~")||z("!"))e=U(),t=ae(),t=B(e.value,t);else{if(H("delete")||H("void")||H("typeof"))throw new Error(_e);t=ne()}}return t}function oe(e){var t=0;if(e.type!==xe&&e.type!==ge)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function ie(){var e,t,r,n,a,o,i,s,u,c;if(e=pe,u=ae(),n=pe,a=oe(n),0===a)return u;for(n.prec=a,U(),t=[e,pe],i=ae(),o=[u,n,i];(a=oe(pe))>0;){for(;o.length>2&&a<=o[o.length-2].prec;)i=o.pop(),s=o.pop().value,u=o.pop(),t.pop(),r=I(s,u,i),o.push(r);n=U(),n.prec=a,o.push(n),t.push(pe),r=ae(),o.push(r)}for(c=o.length-1,r=o[c],t.pop();c>1;)t.pop(),r=I(o[c-1].value,o[c-2],r),c-=2;return r}function se(){var e,t,r;return e=ie(),z("?")&&(U(),t=se(),_(":"),r=se(),e=F(e,t,r)),e}function ue(){var e=se();if(z(","))throw new Error(_e);return e}r.prototype.visit=function(e){var t,r,a,o=this;if(e(o))return 1;for(t=n(o),r=0,a=t.length;r<a;++r)if(t[r].visit(e))return 1};var ce,le,fe,pe,de=1,he=2,ve=3,ge=4,ye=5,me=6,xe=7,Ce=8,we="ArrayExpression",be="BinaryExpression",Ee="CallExpression",Me="ConditionalExpression",Ae="Identifier",ke="Literal",Oe="LogicalExpression",Se="MemberExpression",Ue="ObjectExpression",Le="Property",Te="UnaryExpression",Ie="Unexpected token %0",je="Unexpected number",Fe="Unexpected string",De="Unexpected identifier",Ne="Unexpected reserved word",Pe="Unexpected end of input",Re="Invalid regular expression",qe="Invalid regular expression: missing /",Be="Octal literals are not allowed in strict mode.",Ge="Duplicate data property in object literal not allowed in strict mode",Qe="ILLEGAL",_e="Disabled.",ze=new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢲऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),He=new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԯԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠ-ࢲࣤ-ॣ०-९ॱ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಁ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲഁ-ഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟ෦-෯ෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤞᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧ᪰-᪽ᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶ᳸᳹ᴀ-᷵᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚝꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꧠ-ꧾꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︭︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),Ye={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1},Xe={if:1,this:1},$e=function(e){ce=e,le=0,fe=ce.length,pe=null,L();var t=ue();if(pe.type!==he)throw new Error("Unexpect token after expression.");return t},Je={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"},Ke=function(e){function r(t,r,n,a){var o=e(r[0]);return n&&(o=n+"("+o+")",0===n.lastIndexOf("new ",0)&&(o="("+o+")")),o+"."+t+(a<0?"":0===a?"()":"("+r.slice(1).map(e).join(",")+")")}function n(e,t,n){return function(a){return r(e,a,t,n)}}var a="new Date",o="String",i="RegExp";return{isNaN:"isNaN",isFinite:"isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(r){r.length<3&&t.error("Missing arguments to clamp function."),r.length>3&&t.error("Too many arguments to clamp function.");var n=r.map(e);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:a,date:n("getDate",a,0),day:n("getDay",a,0),year:n("getFullYear",a,0),month:n("getMonth",a,0),hours:n("getHours",a,0),minutes:n("getMinutes",a,0),seconds:n("getSeconds",a,0),milliseconds:n("getMilliseconds",a,0),time:n("getTime",a,0),timezoneoffset:n("getTimezoneOffset",a,0),utcdate:n("getUTCDate",a,0),utcday:n("getUTCDay",a,0),utcyear:n("getUTCFullYear",a,0),utcmonth:n("getUTCMonth",a,0),utchours:n("getUTCHours",a,0),utcminutes:n("getUTCMinutes",a,0),utcseconds:n("getUTCSeconds",a,0),utcmilliseconds:n("getUTCMilliseconds",a,0),length:n("length",null,-1),indexof:n("indexOf",null),lastindexof:n("lastIndexOf",null),slice:n("slice",null),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",o,0),lower:n("toLowerCase",o,0),substring:n("substring",o),replace:n("replace",o),regexp:i,test:n("test",i),if:function(r){r.length<3&&t.error("Missing arguments to if function."),r.length>3&&t.error("Too many arguments to if function.");var n=r.map(e);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}},Ve=function(e){function r(e){if(t.isString(e))return e;var r=h[e.type];return null==r&&t.error("Unsupported type: "+e.type),r(e)}function n(e){var t={code:r(e),globals:Object.keys(l),fields:Object.keys(f)};return l={},f={},t}e=e||{};var a=e.whitelist?t.toSet(e.whitelist):{},o=e.blacklist?t.toSet(e.blacklist):{},i=e.constants||Je,s=(e.functions||Ke)(r),u=e.globalvar,c=e.fieldvar,l={},f={},p=0,d=t.isFunction(u)?u:function(e){return u+'["'+e+'"]'},h={Literal:function(e){return e.raw},Identifier:function(e){var r=e.name;return p>0?r:o.hasOwnProperty(r)?t.error("Illegal identifier: "+r):i.hasOwnProperty(r)?i[r]:a.hasOwnProperty(r)?r:(l[r]=1,d(r))},MemberExpression:function(e){var t=!e.computed,n=r(e.object);t&&(p+=1);var a=r(e.property);return n===c&&(f[a]=1),t&&(p-=1),n+(t?"."+a:"["+a+"]")},CallExpression:function(e){"Identifier"!==e.callee.type&&t.error("Illegal callee type: "+e.callee.type);var n=e.callee.name,a=e.arguments,o=s.hasOwnProperty(n)&&s[n];return o||t.error("Unrecognized function: "+n),t.isFunction(o)?o(a):o+"("+a.map(r).join(",")+")"},ArrayExpression:function(e){return"["+e.elements.map(r).join(",")+"]"},BinaryExpression:function(e){return"("+r(e.left)+e.operator+r(e.right)+")"},UnaryExpression:function(e){return"("+e.operator+r(e.argument)+")"},ConditionalExpression:function(e){return"("+r(e.test)+"?"+r(e.consequent)+":"+r(e.alternate)+")"},LogicalExpression:function(e){return"("+r(e.left)+e.operator+r(e.right)+")"},ObjectExpression:function(e){return"{"+e.properties.map(r).join(",")+"}"},Property:function(e){p+=1;var t=r(e.key);return p-=1,t+":"+r(e.value)}};return n.functions=s,n.constants=i,n};e.ASTNode=r,e.parse=$e,e.codegen=Ve,e.functions=Ke,e.constants=Je,Object.defineProperty(e,"__esModule",{value:!0})});