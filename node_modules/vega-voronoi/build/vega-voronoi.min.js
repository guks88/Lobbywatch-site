!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vega-dataflow"),require("vega-util"),require("d3-voronoi")):"function"==typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-voronoi"],t):t(e.vega=e.vega||{},e.vega,e.vega,e.d3)}(this,function(e,t,r,n){"use strict";function a(e){t.Transform.call(this,null,e)}var i=r.inherits(a,t.Transform),o=[[-1e5,-1e5],[1e5,1e5]];i.transform=function(e,t){var r,a,i,f,s=e.as||"path",d=t.source;for(r=n.voronoi().x(e.x).y(e.y),e.size?r.size(e.size):r.extent(e.extent||o),this.value=r=r(d),a=r.polygons(),i=0,f=d.length;i<f;++i)d[i][s]=a[i]?"M"+a[i].join("L")+"Z":null;return t.reflow(e.modified()).modifies(s)};var f={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};t.register(f,a),e.transform=t.transform,e.definition=t.definition,Object.defineProperty(e,"__esModule",{value:!0})});